/*! For license information please see main.6822c89f493f4fc6498a.js.LICENSE.txt */
"use strict";(self.webpackChunkphoto=self.webpackChunkphoto||[]).push([[792],{311:(e,t,n)=>{var r=n(540),l=n(338),a=n(788),o=n(600);const c=function(){return r.createElement("div",{id:"main"},r.createElement("h1",null,"Online Paint"),r.createElement("div",null,r.createElement(a.sv,null)))};var i=n(511);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.toStringTag||"@@toStringTag";function a(n,r,l,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return d(u,"_invoke",function(n,r,l){var a,c,i,u=0,f=l||[],s=!1,m={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return a=t,c=0,i=e,m.n=n,o}};function h(n,r){for(c=n,i=r,t=0;!s&&u&&!l&&t<f.length;t++){var l,a=f[t],h=m.p,p=a[2];n>3?(l=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=h&&((l=n<2&&h<a[1])?(c=0,m.v=r,m.n=a[1]):h<p&&(l=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,m.n=p,c=0))}if(l||n>1)return o;throw s=!0,r}return function(l,f,p){if(u>1)throw TypeError("Generator is already running");for(s&&1===f&&h(f,p),c=f,i=p;(t=c<2?e:i)||!s;){a||(c?c<3?(c>1&&(m.n=-1),h(c,i)):m.n=i:m.v=i);try{if(u=2,a){if(c||(l="next"),t=a[l]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+l+"' method"),c=1);a=e}else if((t=(s=m.n<0)?i:n.call(r,m))!==o)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:s}}}(n,l,a),!0),u}var o={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(d(t={},r,function(){return this}),t),s=u.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,d(e,l,"GeneratorFunction")),e.prototype=Object.create(s),e}return i.prototype=u,d(s,"constructor",u),d(u,"constructor",i),i.displayName="GeneratorFunction",d(u,l,"GeneratorFunction"),d(s),d(s,l,"Generator"),d(s,r,function(){return this}),d(s,"toString",function(){return"[object Generator]"}),(p=function(){return{w:a,m}})()}function d(e,t,n,r){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}d=function(e,t,n,r){if(t)l?l(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){d(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},d(e,t,n,r)}function y(e,t,n,r,l,a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,l)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,l){var a=e.apply(t,n);function o(e){y(a,r,l,o,c,"next",e)}function c(e){y(a,r,l,o,c,"throw",e)}o(void 0)})}}var b=function(e){return{pictures:[],loadPictures:(n=v(p().m(function t(){var n,r;return p().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/pictures");case 1:return n=t.v,t.n=2,n.json();case 2:r=t.v,e({pictures:r});case 3:return t.a(2)}},t)})),function(){return n.apply(this,arguments)}),selectedPicture:null,addPicture:(t=v(p().m(function t(n){var r,l;return p().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("/add",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)});case 1:return r=t.v,t.n=2,r.json();case 2:l=t.v,e(function(e){return{pictures:[].concat((t=e.pictures,function(e){if(Array.isArray(e))return h(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[l])};var t});case 3:return t.a(2)}},t)})),function(e){return t.apply(this,arguments)}),setPicture:function(t){return e({selectedPicture:t})}};var t,n},g=function(e){return{canvas:null,setCanvas:function(t){return e({canvas:t})}}},E=function(e){return{selObj:null,changeSelObj:function(t){return e({selObj:t})}}},w=function(e){return{hide:!1,setHide:function(t){return e({hide:t})}}},S=(0,i.v)(function(){return s(s(s(s({},b.apply(void 0,arguments)),g.apply(void 0,arguments)),E.apply(void 0,arguments)),w.apply(void 0,arguments))});const k=function(){var e=S(function(e){return e.pictures});return r.createElement("div",{id:"start"},r.createElement("h2",{hidden:e.length>0},"Добро пожаловать!"),r.createElement(a.N_,{to:"/create"},"Начать"))};var j=n(663),O=n(601),F=n(188);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const x=function(){var e,t,n=(e=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=n[0],a=n[1];return r.createElement(r.Fragment,null,r.createElement("button",{id:"help",onClick:function(){a(!l)}},r.createElement(O.g,{icon:F.EvL,size:"2x",color:"#4269FF"}),r.createElement("div",{className:"tooltip",style:{display:l&&"block"}},r.createElement("p",null,"Нажмите на фигуру для редактирования."),r.createElement("p",null,"В режиме рисования кистью удерживайте клавишу ",r.createElement("mark",null,"Shift"),", чтобы нарисовать прямую линию."))))};function C(e){return new j.rw({width:50,height:50,top:e.width/2-25,left:e.height/2-25,stroke:"black",strokeWidth:1,fill:"white"})}function P(e){return new j.jl({radius:25,top:e.width/2-25,left:e.height/2-25,stroke:"black",strokeWidth:1,fill:"white"})}function N(e){return new j.lM({width:50,height:50,top:e.width/2-25,left:e.height/2-25,stroke:"black",strokeWidth:1,fill:"white"})}function T(e){return new j.X("text",{top:e.width/2-25,left:e.height/2-25,stroke:"black",strokeWidth:1,fill:"yellow"})}const I=function(e){var t=e.hideForm,n=e.setHideForm,l=e.setShowBlock,o=(S(function(e){return e.addPicture}),S(function(e){return e.canvas})),c=S(function(e){return e.changeSelObj}),i=S(function(e){return e.setHide}),u=(0,a.Zp)();function f(e,t){var r=e(o);r.on("selected",function(e){n(!1),c(e.target),(e.target instanceof j.rw||e.target instanceof j.jl||e.target instanceof j.lM)&&l({text:!0,stroke:!1,fill:!1,brush:!0}),e.target instanceof j.X&&l({text:!1,stroke:!1,fill:!1,brush:!0})}),o.add(r),o.requestRenderAll()}return r.createElement("div",{id:"panel",style:{display:!t&&"none"}},r.createElement(a.N_,{to:"/"},"Закрыть",r.createElement(O.g,{icon:F.yYc,size:"1x",color:"#4269FF"})),r.createElement("button",{className:"button",onClick:function(e){f(C)}},"Прямоугольник"),r.createElement("button",{className:"button",onClick:function(e){f(P)}},"Круг"),r.createElement("button",{className:"button",onClick:function(e){f(N)}},"Треугольник"),r.createElement("button",{className:"button",onClick:function(e){f(T)}},"Текст"),r.createElement("button",{className:"button",onClick:function(){o.isDrawingMode=!0,n(!1),l({text:!0,stroke:!0,fill:!0,brush:!1})}},"Кисть"),r.createElement("a",{onClick:function(e){e.preventDefault();var t=o.toDataURL();e.target.href=t,e.target.click(),i(!1),u("/")},className:"save"},"Сохранить изображение"),r.createElement(x,null))},R=function(e){var t=e.check;return r.createElement("div",{className:"checkbox"},r.createElement(O.g,{icon:t?F.rQb:F.Nfw,size:"1x",color:t?"#4269FF":"#9BC6FF"}))};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const G=function(){var e=S(function(e){return e.canvas}),t=S(function(e){return e.selObj}),n=_((0,r.useState)("text"),2),l=n[0],a=n[1],o=_((0,r.useState)("Times New Roman"),2),c=(o[0],o[1]),i=_((0,r.useState)(!1),2),u=i[0],f=i[1],s=_((0,r.useState)(!1),2),m=s[0],h=s[1],p=_((0,r.useState)(!1),2),d=p[0],y=p[1],v=_((0,r.useState)(!1),2),b=v[0],g=v[1],E=_((0,r.useState)(!1),2),w=E[0],k=E[1];function j(n){t.set(n.target.name,n.target.value),e.requestRenderAll()}function O(n){t.set(n.target.name,n.target.checked),e.requestRenderAll()}return(0,r.useEffect)(function(){return t&&(a(t.get("text")),c(t.get("fontFamily")),f("bold"==t.get("fontWeight")),h("italic"==t.get("fontStyle")),y(t.get("underline")),g(t.get("linethrough")),k(t.get("overline"))),function(){a("text"),c("Times New Roman"),f(!1),h(!1),y(!1),g(!1),k(!1)}},[t]),r.createElement(r.Fragment,null,r.createElement("label",{className:"label"},"Текст: "),r.createElement("textarea",{value:l,onChange:function(e){a(e.target.value),j(e)},name:"text"}),r.createElement("br",null),r.createElement("label",{className:"label"},"Шрифт: "),r.createElement("select",{name:"fontFamily",onChange:function(e){c(e.target.value),j(e)}},r.createElement("option",null,"Times New Roman"),r.createElement("option",null,"Arial"),r.createElement("option",null,"Monospace"),r.createElement("option",null,"Comic Sans")),r.createElement("br",null),r.createElement("label",null,r.createElement("input",{type:"checkbox",value:u?"normal":"bold",name:"fontWeight",checked:u,onChange:function(e){f(!u),j(e)}}),"Полужирный",r.createElement(R,{check:u})),r.createElement("br",null),r.createElement("label",null,r.createElement("input",{type:"checkbox",value:m?"normal":"italic",name:"fontStyle",checked:m,onChange:function(e){h(!m),j(e)}}),"Курсив",r.createElement(R,{check:m})),r.createElement("br",null),r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"underline",checked:d,onChange:function(e){y(!d),O(e)}}),"Подчеркнутый",r.createElement(R,{check:d})),r.createElement("br",null),r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"linethrough",checked:b,onChange:function(e){g(!b),O(e)}}),"Зачеркнутый",r.createElement(R,{check:b})),r.createElement("br",null),r.createElement("label",null,r.createElement("input",{type:"checkbox",name:"overline",cgecked:w,onChange:function(e){k(!w),O(e)}}),"Надчеркнутый",r.createElement(R,{check:w})))};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const H=function(e){var t=e.prop,n=M((0,r.useState)("#FFFFFF"),2),l=n[0],a=n[1],o=M((0,r.useState)(1),2),c=o[0],i=o[1],u=S(function(e){return e.canvas}),f=S(function(e){return e.selObj});function s(e){var n=e.c,r=void 0===n?l:n,a=e.a,o=void 0===a?c:a,i=new j.Q1(r).toRgba();f.set(t,i.replace(/1(?=\))/,o)),u.requestRenderAll()}return(0,r.useEffect)(function(){if(f){var e=new j.Q1(f.get(t));a("#"+e.toHex()),i(e.getAlpha())}return function(){a("#FFFFFF"),i(1)}},[f]),r.createElement(r.Fragment,null,r.createElement("label",{className:"label"},"Цвет: "),r.createElement("input",{type:"color",onChange:function(e){a(e.target.value),s({c:e.target.value})},value:l}),r.createElement("br",null),r.createElement("label",{className:"label"},"Прозрачность: "),r.createElement("input",{type:"range",onChange:function(e){i(e.target.value),s({a:e.target.value})},value:c,min:"0",max:"1",step:"0.1"}),r.createElement("br",null))};function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const W=function(){var e,t,n=(e=(0,r.useState)(5),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=n[0],a=n[1],o=S(function(e){return e.canvas}),c=S(function(e){return e.selObj});return(0,r.useEffect)(function(){return c&&a(c.get("strokeWidth")),function(){a(5)}},[c]),r.createElement(r.Fragment,null,r.createElement(H,{prop:"stroke"}),r.createElement("label",{className:"label"},"Ширина: "),r.createElement("input",{type:"number",value:l,min:"1",max:"10",step:"1",onChange:function(e){a(e.target.value),c.set("strokeWidth",+e.target.value),o.requestRenderAll()}}))},q=function(e){var t=e.check;return r.createElement("div",{className:"radio"},r.createElement(O.g,{icon:F.GEE,size:"1x",color:t?"#4269FF":"#9BC6FF"}))};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const L=function(){var e=$((0,r.useState)(null),2),t=e[0],n=e[1],l=$((0,r.useState)(null),2),a=l[0],o=l[1],c=$((0,r.useState)("#FF0000"),2),i=c[0],u=c[1],f=$((0,r.useState)(1),2),s=f[0],m=f[1],h=$((0,r.useState)(5),2),p=h[0],d=h[1],y=S(function(e){return e.canvas}),v=S(function(e){return e.selObj});function b(e){switch(u("#FF0000"),m(1),d(5),o(e.target.value),e.target.value){case"pencil":n(function(e){var t=new j.mW(e);return e.freeDrawingBrush=t,t.color="red",t.width=5,t.straightLineKey="shiftKey",t.drawStraightLine=!0,t}(y));break;case"circle":n(function(e){var t=new j.bU(e);return e.freeDrawingBrush=t,t.color="red",t.width=5,t}(y));break;case"spray":n(function(e){var t=new j.af(e);return e.freeDrawingBrush=t,t.color="red",t.width=5,t}(y))}}function g(e){var n=e.c,r=void 0===n?i:n,l=e.a,a=void 0===l?s:l,o=new j.Q1(r).toRgba();t.color=o.replace(/1(?=\))/,a),y.requestRenderAll()}(0,r.useEffect)(function(){n(null),o(null),u("#FF0000"),m(1),d(5)},[v]);var E={width:p+"px",height:p+"px",background:i,opacity:s};return r.createElement(r.Fragment,null,r.createElement("label",null,r.createElement("input",{type:"radio",checked:"pencil"==a,value:"pencil",onChange:b}),"Кисть",r.createElement(q,{check:"pencil"==a})),r.createElement("label",null,r.createElement("input",{type:"radio",checked:"circle"==a,value:"circle",onChange:b}),"Круги",r.createElement(q,{check:"circle"==a})),r.createElement("label",null,r.createElement("input",{type:"radio",checked:"spray"==a,value:"spray",onChange:b}),"Спрей",r.createElement(q,{check:"spray"==a})),r.createElement("br",null),r.createElement("label",{className:"label"},"Цвет: "),r.createElement("input",{type:"color",onChange:function(e){u(e.target.value),g({c:e.target.value})},value:i}),r.createElement("br",null),r.createElement("label",{className:"label"},"Прозрачность: "),r.createElement("input",{type:"range",onChange:function(e){m(e.target.value),g({a:e.target.value})},value:s,min:"0",max:"1",step:"0.1"}),r.createElement("br",null),r.createElement("label",{className:"label"},"Размер кисти: "),r.createElement("input",{type:"range",min:"1",max:"20",step:"1",value:p,onChange:function(e){d(+e.target.value),t.width=+e.target.value,y.requestRenderAll()}}),r.createElement("span",{style:E}))},Q=function(e){var t=e.hideForm,n=e.setHideForm,l=e.showBlock,a=S(function(e){return e.canvas});return r.createElement("form",{id:"editForm",style:{display:t&&"none"},onSubmit:function(e){e.preventDefault()}},r.createElement("fieldset",{hidden:l.text,id:"text"},r.createElement("legend",null,"Текст"),r.createElement(G,null)),r.createElement("fieldset",{id:"stroke",hidden:l.stroke},r.createElement("legend",null,"Контур"),r.createElement(W,{add:l.add})),r.createElement("fieldset",{id:"fill",hidden:l.fill},r.createElement("legend",null,"Заливка"),r.createElement(H,{prop:"fill"})),r.createElement("fieldset",{id:"brush",hidden:l.brush},r.createElement("legend",null,"Кисть"),r.createElement(L,null)),r.createElement("div",null,r.createElement("button",{onClick:function(){var e=a.getObjects(),t=a.item(e.length-1);a.remove(t)}},"Удалить"),r.createElement("button",{onClick:function(){n(!0),a.isDrawingMode=!1}},"Применить")),r.createElement(x,null))};function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a,o,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const V=function(){S(function(e){return e.canvas});var e=S(function(e){return e.setCanvas}),t=Y((0,r.useState)(!0),2),n=t[0],l=t[1],o=Y((0,r.useState)({text:!0,stroke:!0,fill:!0,brush:!0}),2),c=o[0],i=o[1],u=Y((0,r.useState)(!0),2),f=(u[0],u[1],Y((0,a.ok)(),2)),s=f[0];return f[1],(0,r.useEffect)(function(){var t=new j.Hl("canvas",{width:+s.get("width"),height:+s.get("height"),backgroundColor:"white"});return e(t),function(){t.dispose()}},[]),r.createElement("div",{id:"editor"},r.createElement("div",null,r.createElement("canvas",{id:"canvas"})),r.createElement(I,{hideForm:n,setHideForm:l,setShowBlock:i}),r.createElement(Q,{hideForm:n,setHideForm:l,showBlock:c}))},X=function(){var e=S(function(e){return e.setHide});return r.createElement("div",{id:"create"},r.createElement("h3",null,"Размер холста"),r.createElement(a.lV,{method:"post"},r.createElement("label",null,"Ширина: "),r.createElement("select",{name:"width"},r.createElement("option",null,"300"),r.createElement("option",null,"400"),r.createElement("option",null,"500"),r.createElement("option",null,"600"),r.createElement("option",null,"700"),r.createElement("option",null,"800")),r.createElement("br",null),r.createElement("label",null,"Высота: "),r.createElement("select",{name:"height"},r.createElement("option",null,"300"),r.createElement("option",null,"400"),r.createElement("option",null,"500"),r.createElement("option",null,"600"),r.createElement("option",null,"700"),r.createElement("option",null,"800")),r.createElement("br",null),r.createElement("button",{onClick:function(){e(!0)}},"Создать")))},Z=function(){var e=(0,r.useRef)(),t=((0,a.Zp)(),S(function(e){return e.selectedPicture}));return r.createElement("div",{id:"viewer"},r.createElement("div",null,r.createElement("a",{href:t,download:"picture.png"},"Скачать",r.createElement(O.g,{icon:F.cbP,size:"1x",color:"#FFFFFF"})),r.createElement(a.N_,{to:"/"},"Закрыть",r.createElement(O.g,{icon:F.yYc,size:"1x",color:"#FFFFFF"}))),r.createElement("img",{src:t,ref:e}))};function J(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.toStringTag||"@@toStringTag";function a(n,r,l,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return ee(u,"_invoke",function(n,r,l){var a,c,i,u=0,f=l||[],s=!1,m={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return a=t,c=0,i=e,m.n=n,o}};function h(n,r){for(c=n,i=r,t=0;!s&&u&&!l&&t<f.length;t++){var l,a=f[t],h=m.p,p=a[2];n>3?(l=p===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=h&&((l=n<2&&h<a[1])?(c=0,m.v=r,m.n=a[1]):h<p&&(l=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,m.n=p,c=0))}if(l||n>1)return o;throw s=!0,r}return function(l,f,p){if(u>1)throw TypeError("Generator is already running");for(s&&1===f&&h(f,p),c=f,i=p;(t=c<2?e:i)||!s;){a||(c?c<3?(c>1&&(m.n=-1),h(c,i)):m.n=i:m.v=i);try{if(u=2,a){if(c||(l="next"),t=a[l]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+l+"' method"),c=1);a=e}else if((t=(s=m.n<0)?i:n.call(r,m))!==o)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:s}}}(n,l,a),!0),u}var o={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(ee(t={},r,function(){return this}),t),s=u.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ee(e,l,"GeneratorFunction")),e.prototype=Object.create(s),e}return i.prototype=u,ee(s,"constructor",u),ee(u,"constructor",i),i.displayName="GeneratorFunction",ee(u,l,"GeneratorFunction"),ee(s),ee(s,l,"Generator"),ee(s,r,function(){return this}),ee(s,"toString",function(){return"[object Generator]"}),(J=function(){return{w:a,m}})()}function ee(e,t,n,r){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}ee=function(e,t,n,r){if(t)l?l(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){ee(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},ee(e,t,n,r)}function te(e,t,n,r,l,a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,l)}function ne(){var e;return e=J().m(function e(t){var n,r,l,o,c;return J().w(function(e){for(;;)switch(e.n){case 0:return n=t.request,e.n=1,n.formData();case 1:return r=e.v,l=r.get("width"),o=r.get("height"),c=(0,a.PI)({width:l,height:o}),e.a(2,(0,a.V2)("/edit?".concat(c)))}},e)}),ne=function(){var t=this,n=arguments;return new Promise(function(r,l){var a=e.apply(t,n);function o(e){te(a,r,l,o,c,"next",e)}function c(e){te(a,r,l,o,c,"throw",e)}o(void 0)})},ne.apply(this,arguments)}var re=(0,a.Ys)([{path:"/",element:r.createElement(c,null),children:[{index:!0,element:r.createElement(k,null)},{path:"/create",element:r.createElement(X,null),action:function(e){return ne.apply(this,arguments)}},{path:"/edit",element:r.createElement(V,null)},{path:"/view",element:r.createElement(Z,null)}]}]);l.createRoot(document.getElementById("root")).render(r.createElement(o.p,{router:re},r.createElement(c,null)))}},e=>{e.O(0,[90,308,825,547,457,979,521,23],()=>e(e.s=311)),e.O()}]);